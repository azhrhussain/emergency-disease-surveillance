<!-- <h2>Questionnaire list:</h2>

<form #postForm="ngForm" (ngSubmit)="onCreatePost(postForm.value)">
  <div class="formcontainer">
    <label><b>Title</b></label>
    <input type="number" class="titleinput" name="title" ngModel required />
    <label><b>Content</b></label>
    <textarea
      id="content"
      class="contenttextarea"
      name="content"
      ngModel
      required
    ></textarea>
    <button type="submit" class="postbutton">Send Post</button>
  </div>
  <div>
    <div>
      <button class="fetchbutton">Fetch Posts</button> |
      <button class="clearbutton">Clear Posts</button>
    </div>
  </div>
</form>

<button (click)="onCreatePost({ id: 4, name: 'azhar' })">submit data</button>

<form class="example-form">
  <mat-form-field class="example-full-width" appearance="fill">
    <mat-label>Favorite food</mat-label>
    <input matInput placeholder="Ex. Pizza" value="Sushi" />
  </mat-form-field>

  <mat-form-field class="example-full-width" appearance="fill">
    <mat-label>Leave a comment</mat-label>
    <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
  </mat-form-field>
</form> -->

<main ngClass="questionnaire-main">
  <div ngClass="container">
    <header class="text-center">
      <h2 class="h2">Pakistan Flood Response 2022</h2>
      <h2 class="h2">
        Emergency Disease Surveillance System (EDSS) Reporting Form
      </h2>
      <h2 class="h2">Health Facility Level/Medical & Health Camp</h2>
    </header>
    <div class="spacer1"></div>
    <div class="spacer1"></div>

    

    <mat-grid-list class="col-space-reset" rowHeight="80px" cols="4">
      <mat-grid-tile ngClass="col-space-reset">
        <mat-form-field appearance="outline">
          <mat-label>Submitted by</mat-label>
          <mat-select [(value)]="hypothisis.submittedBy" [disabled]="true">
            <mat-option *ngFor="let user of users" [value]="user">
              {{ user }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Reporting Date</mat-label>
          <input
            matInput
            placeholder="Ex. 09/23/2022"
            [(ngModel)]="hypothisis.reportingDate"
          />
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Province</mat-label>
          <mat-select [(value)]="hypothisis.province" [disabled]="true">
            <mat-option *ngFor="let province of provinces" [value]="province">
              {{ province }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>District</mat-label>
          <input
            matInput
            placeholder="Ex. Dera Ismail Khan"
            [(ngModel)]="hypothisis.districts"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Tehsil/Taluka</mat-label>
          <input
            matInput
            placeholder="Ex. Daraban"
            [(ngModel)]="hypothisis.tehsil"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>UC/Village/settlement</mat-label>
          <input
            matInput
            placeholder="Ex. Uc Musa Zai"
            [(ngModel)]="hypothisis.uc"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Health Facility Name</mat-label>
          <input
            matInput
            placeholder="Ex. BHU Musa zai"
            [(ngModel)]="hypothisis.healthFacilityName"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Health Facility Type</mat-label>
          <input
            matInput
            placeholder="Ex. BHU"
            [(ngModel)]="hypothisis.healthFacilityType"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Health Facility Code</mat-label>
          <input
            matInput
            placeholder="Ex. 12345"
            [(ngModel)]="hypothisis.healthFacilityCode"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Medical/Health Camp</mat-label>
          <input
            matInput
            placeholder="Ex. BHU Musa Zai"
            [(ngModel)]="hypothisis.healthFacilityCamp"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Contact number</mat-label>
          <input
            matInput
            placeholder="Ex. 0345 1234123"
            [(ngModel)]="hypothisis.phoneNumber"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Organization name</mat-label>
          <input
            matInput
            placeholder="Ex. Organization"
            [(ngModel)]="hypothisis.organizationName"
          />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Catchment Population</mat-label>
          <input
            matInput
            placeholder="Ex. 2345"
            [(ngModel)]="hypothisis.catchmentPopulation"
          />
        </mat-form-field>
      </mat-grid-tile>
    </mat-grid-list>
  </div>
</main>
<div class="spacer1"></div>  <div class="spacer1"></div>
<div class="container">
  <div class="row">
    <div class="col-12">
      <h2 class="h2 border-bottom">Questions</h2>
    </div>
    <div class="spacer1"></div>
    <div class="col-12">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col" rowspan="3">#</th>
            <th scope="col" rowspan="3">Disease / Syndromes</th>

            <th scope="colgroup" colspan="4" class="text-center">Cases</th>
            <th scope="colgroup" colspan="4" class="text-center">Deaths</th>
          </tr>

          <tr class="text-center">
            <th colspan="2">Less then 5 years</th>
            <th colspan="2">Greater then 5 years</th>

            <th colspan="2">Less then 5 years</th>
            <th colspan="2">Greater then 5 years</th>
          </tr>

          <tr class="text-center">
            <th class="td-size">M</th>
            <th class="td-size">F</th>
            <th class="td-size">M</th>
            <th class="td-size">F</th>

            <th class="td-size">M</th>
            <th class="td-size">F</th>
            <th class="td-size">M</th>
            <th class="td-size">F</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let que of questions; let i = index">
            <th scope="row">{{ i + 1 }}</th>
            <td class="text-left">{{ que.q }}</td>

            <td>
              <input
                type="number"
                [(ngModel)]="que.case.lessThen5.male"
                (ngModelChange)="
                  onChangeCase($event, 'case', 'lessThen5', 'male')
                "
                class="form-control input-m-f"
              />
            </td>
            <td>
              <input
                type="number"
                [(ngModel)]="que.case.lessThen5.female"
                (ngModelChange)="
                  onChangeCase($event, 'case', 'lessThen5', 'female')
                "
                class="form-control input-m-f"
              />
            </td>
            <td>
              <input
                type="number"
                [(ngModel)]="que.case.greaterThen5.male"
                (ngModelChange)="
                  onChangeCase($event, 'case', 'greaterThen5', 'male')
                "
                class="form-control input-m-f"
              />
            </td>
            <td>
              <input
                type="number"
                [(ngModel)]="que.case.greaterThen5.female"
                (ngModelChange)="
                  onChangeCase($event, 'case', 'greaterThen5', 'female')
                "
                class="form-control input-m-f"
              />
            </td>

            <td>
              <input
                type="number"
                [(ngModel)]="que.death.lessThen5.male"
                (ngModelChange)="
                  onChangeCase($event, 'death', 'lessThen5', 'male')
                "
                class="form-control input-m-f"
              />
            </td>

            <td>
              <input
                type="number"
                [(ngModel)]="que.death.lessThen5.female"
                (ngModelChange)="
                  onChangeCase($event, 'death', 'lessThen5', 'female')
                "
                class="form-control input-m-f"
              />
            </td>

            <td>
              <input
                type="number"
                [(ngModel)]="que.death.greaterThen5.male"
                (ngModelChange)="
                  onChangeCase($event, 'death', 'greaterThen5', 'male')
                "
                class="form-control input-m-f"
              />
            </td>

            <td>
              <input
                type="number"
                [(ngModel)]="que.death.greaterThen5.female"
                (ngModelChange)="
                  onChangeCase($event, 'death', 'greaterThen5', 'female')
                "
                class="form-control input-m-f"
              />
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr class="text-center">
            <th colspan="2" scope="row">TOTAL</th>
            <th>{{ questionSumData["case"].lessThen5.male }}</th>
            <th>{{ questionSumData["case"].lessThen5.female }}</th>
            <th>{{ questionSumData["case"].greaterThen5.male }}</th>
            <th>{{ questionSumData["case"].greaterThen5.female }}</th>

            <th>{{ questionSumData["death"].lessThen5.male }}</th>
            <th>{{ questionSumData["death"].lessThen5.female }}</th>
            <th>{{ questionSumData["death"].greaterThen5.male }}</th>
            <th>{{ questionSumData["death"].greaterThen5.female }}</th>
          </tr>
        </tfoot>
      </table>
    </div>
    <div class="col-12 col-lg-4">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">Rapid Antigen Tests Conducted</th>
            <th scope="col">Total Tests</th>
            <th scope="col">Positive</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let testData of rapidAntigenTest">
            <td class="text-left">{{ testData["testName"] }}</td>
            <td>
              <input
                type="number"
                [(ngModel)]="testData['tests']"
                class="form-control input-m-f"
              />
            </td>
            <td>
              <input
                type="number"
                [(ngModel)]="testData['positive']"
                class="form-control input-m-f"
              />
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col-12 col-lg-4 m-auto text-right">
      <button
        type="button"
        class="btn btn-success mr-1"
        (click)="handleSave()"
      >
        Save Data
      </button>
      <button
        type="button"
        class="btn btn-primary"
        (click)="handleShowTodayData()"
      >
        Show All Today's Data
      </button>
      <div class="spacer1"></div>
      <div class="spacer1"></div>
    </div>
  </div>
</div>
